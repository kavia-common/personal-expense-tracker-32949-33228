{"is_source_file": true, "format": "Python", "description": "This file defines API routes related to category management in a FastAPI backend, including listing, creating, retrieving, updating, and deleting categories, with user ownership verification.", "external_files": ["src.api.deps", "src.core.database", "src.models.models", "src.schemas.schemas"], "external_methods": ["get_current_user", "get_db"], "published": ["router"], "classes": [], "methods": [{"name": "list_categories( q: Optional[str] = Query(None, description=\"Optional name substring filter\"), db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )", "description": "Handles GET requests to list categories owned by the current user, with optional filtering by a name substring.", "scope": "", "scopeKind": ""}, {"name": "create_category( payload: CategoryCreate, db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )", "description": "Handles POST requests to create a new category for the current user.", "scope": "", "scopeKind": ""}, {"name": "get_category( category_id: int, db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )", "description": "Handles GET requests to retrieve a specific category by id, ensuring ownership.", "scope": "", "scopeKind": ""}, {"name": "update_category( category_id: int, payload: CategoryCreate, db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )", "description": "Handles PUT requests to update the name and description of an owned category.", "scope": "", "scopeKind": ""}, {"name": "delete_category( category_id: int, db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )", "description": "Handles DELETE requests to remove a category owned by the current user.", "scope": "", "scopeKind": ""}], "calls": ["db.query(Category)", "Category.owner_id == current_user.id", "Category.name.ilike(f\"%{q}%\")", "db.add(cat)", "db.commit()", "db.refresh(cat)", "db.delete(cat)"], "search-terms": ["categories API", "category CRUD", "category ownership", "FastAPI categories routes", "category filtering", "category management"], "state": 2, "file_id": 19, "knowledge_revision": 42, "git_revision": "", "ctags": [{"_type": "tag", "name": "create_category", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-32949-33228/expense_fastapi_backend/src/api/routers_categories.py", "pattern": "/^def create_category($/", "language": "Python", "kind": "function", "signature": "( payload: CategoryCreate, db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )"}, {"_type": "tag", "name": "delete_category", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-32949-33228/expense_fastapi_backend/src/api/routers_categories.py", "pattern": "/^def delete_category($/", "language": "Python", "kind": "function", "signature": "( category_id: int, db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )"}, {"_type": "tag", "name": "get_category", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-32949-33228/expense_fastapi_backend/src/api/routers_categories.py", "pattern": "/^def get_category($/", "language": "Python", "kind": "function", "signature": "( category_id: int, db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )"}, {"_type": "tag", "name": "list_categories", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-32949-33228/expense_fastapi_backend/src/api/routers_categories.py", "pattern": "/^def list_categories($/", "language": "Python", "kind": "function", "signature": "( q: Optional[str] = Query(None, description=\"Optional name substring filter\"), db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-32949-33228/expense_fastapi_backend/src/api/routers_categories.py", "pattern": "/^router = APIRouter(prefix=\"\\/categories\", tags=[\"Categories\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_category", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-32949-33228/expense_fastapi_backend/src/api/routers_categories.py", "pattern": "/^def update_category($/", "language": "Python", "kind": "function", "signature": "( category_id: int, payload: CategoryCreate, db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )"}], "hash": "068e817190d5ff7dcd834c0d5e3c4192", "format-version": 4, "code-base-name": "expense_fastapi_backend", "filename": "expense_fastapi_backend/src/api/routers_categories.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/categories\", tags=[\"Categories\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"42": ""}]}